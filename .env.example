# Since the ".env" file is gitignored, you can use the ".env.example" file to
# build a new ".env" file when you clone the repo. Keep this file up-to-date
# when you add new variables to `.env`.

# This file will be committed to version control, so make sure not to have any
# secrets in it. If you are cloning this repo, create a copy of this file named
# ".env" and populate it with your secrets.

# When adding additional environment variables, the schema in "/src/env.js"
# should be updated accordingly.

# ========================================
# App Configuration
# ========================================
# The base URL of your application. Used for redirects, webhooks, and callbacks.
# In development: http://localhost:3000
# In production: https://your-domain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ========================================
# Clerk Authentication
# ========================================
# Clerk publishable key - used on the client side for authentication
# Get this from your Clerk Dashboard > API Keys > Publishable Key
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxx

# Clerk secret key - used on the server side for authentication
# Get this from your Clerk Dashboard > API Keys > Secret Key
CLERK_SECRET_KEY=sk_test_xxx

# Clerk webhook secret - used to verify webhook events from Clerk
# Get this from your Clerk Dashboard > Webhooks > Add Endpoint > Signing Secret
CLERK_WEBHOOK_SECRET=whsec_xxx

# URL path for the sign-in page
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in

# URL path for the sign-up page
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# Where to redirect users after successful sign-in
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/health

# Where to redirect users after successful sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/health

# ========================================
# Supabase
# ========================================
# Supabase project URL - found in your Supabase project settings
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co

# Supabase anonymous/public key - safe to expose on client side
# Found in your Supabase project settings under API keys
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx

# Supabase service role key - full admin access, keep secret!
# Found in your Supabase project settings under API keys
SUPABASE_SERVICE_ROLE_KEY=eyJxxx

# PostgreSQL connection string for Drizzle ORM
# Use Supabase's Transaction mode pooler for better performance
# Format: postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres

# ========================================
# Snowflake Data Warehouse
# ========================================
# Snowflake account identifier (e.g., ef19411.ap-southeast-1)
SNOWFLAKE_ACCOUNT=ef19411.ap-southeast-1

# Snowflake warehouse to use
SNOWFLAKE_WAREHOUSE=COMPUTE_WH

# Snowflake role
SNOWFLAKE_ROLE=ACCOUNTADMIN

# Authentication method (SNOWFLAKE_JWT for Key Pair Auth)
SNOWFLAKE_AUTHENTICATOR=SNOWFLAKE_JWT

# Snowflake username
SNOWFLAKE_USERNAME=APP_USER_WITH_KEY_AUTH

# Private Key for Authentication (PEM format)
SNOWFLAKE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----"

# Passphrase for the Private Key (if encrypted)
SNOWFLAKE_PRIVATE_KEY_PASSPHRASE="<password>"

# Enable logging (optional)
SNOWFLAKE_LOGGING=true

# ========================================
# AWS S3 (Optional)
# ========================================
# AWS Access Key ID for S3 access
AWS_ACCESS_KEY_ID=AKIA...

# AWS Secret Access Key for S3 access
AWS_ACCESS_SECRET_KEY=wJalr...

# AWS Region where your S3 buckets are located (e.g., us-east-1)
AWS_REGION=us-east-1


# ========================================
# Synology (Optional)
# ========================================
# Synology DSM Host URL
SYNOLOGY_HOST=http://synology:5000

# Synology Username
SYNOLOGY_USERNAME=admin

# Synology Password
SYNOLOGY_PASSWORD=secret

# ========================================
# NextBank API (Optional)
# ========================================
# Base URL for the NextBank API endpoint
NEXTBANK_API=https://api.nextbank.com

# Username for NextBank Basic Authentication
NEXTBANK_API_USERNAME=user

# Password for NextBank Basic Authentication
NEXTBANK_API_PASSWORD=pass

# ========================================
# Redis (Upstash) - Optional
# ========================================
# Redis connection URL for caching
REDIS_URL=redis://default:password@host:port

# Redis REST API URL
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io

# Redis REST API token
UPSTASH_REDIS_REST_TOKEN=AXXX...

# ========================================
# Rate Limiting
# ========================================
# Rate limit window in milliseconds
RATE_LIMIT_WINDOW_MS=60000

# Rate limit max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# Circuit Breaker
# ========================================
# Circuit breaker threshold (number of failures before opening)
CIRCUIT_BREAKER_THRESHOLD=5

# Circuit breaker timeout in milliseconds
CIRCUIT_BREAKER_TIMEOUT_MS=30000

# Circuit breaker reset timeout in milliseconds
CIRCUIT_BREAKER_RESET_TIMEOUT_MS=60000

# ========================================
# Data Retention
# ========================================
# Activity log retention in days
ACTIVITY_LOG_RETENTION_DAYS=90

# Export job retention in days
EXPORT_JOB_RETENTION_DAYS=30

# Health check retention in days
HEALTH_CHECK_RETENTION_DAYS=7

# ========================================
# Health Check
# ========================================
# Health check timeout in milliseconds
HEALTH_CHECK_TIMEOUT_MS=10000

# Health check interval in milliseconds
HEALTH_CHECK_INTERVAL_MS=300000
